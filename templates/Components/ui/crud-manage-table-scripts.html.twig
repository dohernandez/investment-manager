{#
    entity_name => entity name
    fields => {
                'render': {
                    base: <value>, default(text) -> How to render the field. Render type [text, currency, date, slice]
                    option: <value>

                        1. base 'text' option should not be defined.
                        2. base 'truncate' option value is the slice until the truncate value.
                        3. base 'date' option value is the format date.
                        4. base 'currency' option value is the format currency.
                },
                'name': <value>, # required -> Column name
                'label': <value>, -> Column name label. When label is not defined then name is used instead.
                'col_with': <value> -> Collumn with
            }

     'buttons': [
           {
               'type': '<value>', default('info') -> buton type.
               'jsClass': '<value>', default('js-entity-view') -> buton type.
               'icon': '<value>', default('fas fa-eye') -> buton icon.
           },
       ]
    form => form object,
    create_button_label => Different value for create button. Example "Add operation"
#}

{% import 'Components/Macros/crud-manage-render.html.twig' as render %}

{% block create_button_template %}
<!-- create button table manager template -->
<script type="text/template" id="js-manager-{{ entity_name|lower|trim(' ') }}-create-button-template">
    <button class="js-entity-create btn btn-success pull-right">
        <i class="fa-plus-circle fa" aria-hidden="true"></i>
        {% if create_button_label is not defined %}
            {{ 'Create new'|trans }} {{ entity_name|trans|lower }}
        {% else  %}
            {{ create_button_label }}
        {% endif  %}
    </button>
</script>
{% endblock %}

<!-- create search table manager template -->
<script type="text/template" id="js-manager-{{ entity_name|lower|trim(' ') }}-search-template">
    <label class="pull-right">Search:
        <div class="btn-group">
            <input type="search" class="form-control js-manage-search" placeholder="Search" aria-controls="search"
                   style="width: 248px; display: inline-block;">
            <span class="glyphicon glyphicon-remove-circle js-manage-search-clear"
                  style="display: none;"></span>
        </div>
    </label>
</script>

<!-- create search table manager template -->
<script type="text/template" id="js-manager-{{ entity_name|lower|trim(' ') }}-show-per-page-template">
    <label>{{ 'Show'|trans }}
        <select id="show-{{ entity_name|lower|trim(' ') }}s-per-page" name="manage-per-page" aria-controls="per page"
                class="form-control input-sm js-manage-show-per-page"
                style="width: 75px; display: inline-block;">
            <option value="10">10</option>
            <option value="25">25</option>
            <option value="50">50</option>
            <option value="100">100</option>
        </select>
        entries</label>
</script>

{% if fields is defined %}
<!-- row table manager template -->
<script type="text/template" id="js-manager-{{ entity_name|lower|trim(' ') }}-row-template">
    <tr data-id="<%= id %>" data-i="<%= index %>">
        <th style="vertical-align: middle;" scope="row" class="text-center js-manager-row-index"><%= index %></th>
        {% for field in fields %}
            <td style="vertical-align: middle;" {% if field.class is defined %} class="{{ field.class }}" {% endif %}>
                {{ render.field(field.name, field) }}
            </td>
        {% endfor %}
        <td style="text-align: center;">
            <% if (viewButton) { %>
            <button type="button" data-backdrop="static" data-keyboard="false" class="js-entity-view btn btn-default btn-sm pull-left"
                    style="margin-left: 3px">
                <i class="fas fa-eye" aria-hidden="true"></i>
            </button>
            <% } %>
            {% if buttons is defined %}
                {% for button in buttons %}
                    {#
                        'buttons': [
                           {
                               'type': '<value>', default('info') -> buton type.
                               'jsClass': '<value>', default('js-entity-view') -> buton type.
                               'icon': '<value>', default('fas fa-eye') -> buton icon.
                           },
                       ]
                    #}
                    <button class="{{ button.jsClass|default('js-entity-view') }} btn btn-{{ button.type|default('info') }} btn-sm pull-left"
                            style="margin-left: 3px">
                        <i class="{{ button.icon|default('fas fa-eye') }}" aria-hidden="true"></i>
                    </button>
                {% endfor %}
            {% endif %}
            <% if (editButton) { %>
            <button type="button" data-backdrop="static" data-keyboard="false" class="js-entity-edit btn btn-primary btn-sm pull-left"
                    style="margin-left: 3px">
                <i class="fa fa-pencil-alt" aria-hidden="true"></i>
            </button>
            <% } %>
            <% if (deleteButton) { %>
            <button type="button" data-backdrop="static" data-keyboard="false" class="js-entity-delete btn btn-danger btn-sm"
                    data-id="<%= id %>" data-title="<%= title %>" style="margin-left: 3px">
                <i class="fa-trash-alt fa" aria-hidden="true"></i>
            </button>
            <% } %>
        </td>
    </tr>
</script>
{% endif %}

{% if form is defined %}
    <!-- form table manager template -->
    <script type="text/template" id="js-manager-{{ entity_name|lower|trim(' ') }}-form-template">
        {% set _form_theme = form_theme|default('Components/Form/horizontal-theme-form.html.twig') %}
    {% form_theme form _form_theme %}

    {{ form_start(form, {'attr': {'id': 'entity-form', 'class': 'form-horizontal js-entity-create-from' }}) }}
        <div class="box-body">
            {{ form_widget(form) }}
        </div>
        {{ form_end(form) }}
    </script>
{% endif %}
