{% extends 'Components/Layout/crud-manage.html.twig' %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" href="{{ asset('build/wallet_form.css') }}">
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script src="{{ asset('build/wallet_form.js') }}"></script>

    <script>
        $(document).ready(function() {
            let swalFormOptionsText = {
                create: {
                    confirmButtonText: '{{ 'Create'|trans }}',
                    titleText: '{{ 'Create new'|trans }} {{ entity_name|trans|title }}',
                    toastTitleText: '{{ entity_name|trans|title }} {{ 'was created successfully.'|trans }}'
                },
                update: {
                    confirmButtonText: '{{ 'Update'|trans }}',
                    titleText: '{{ 'Update'|trans }} {{ entity_name|trans|title }}',
                    toastTitleText: '{{ entity_name|trans|title }} {{ 'was updated successfully.'|trans }}'
                },
            };

            const form = new WalletForm(swalFormOptionsText);

            window.crudManager.withForm(form);
            window.crudManager.withCreateButton();
            // add button edit
            crudManager.withEditButton();
            // add button delete
            crudManager.withDeleteButton();
            // add button extra
            crudManager.withExtraButton();

            window.crudManager.render();




            // Delegate selector for edit stock dividend
            $('.js-crud-manage-row-box').closest('section').on(
                'click',
                '.js-entity-dashboard-yield',
                function (e) {
                    e.preventDefault();

                    const $row = $(e.currentTarget).closest('tr');
                    const id = $row.data('id');

                    window.location = Routing.generate('wallet_dashboard', {'id': id})
                }
            );
        });
    </script>
{% endblock %}
